/*! markdown-it-video 16-10-2017 */

"use strict";(function(){function e(e){var t=e.match(l);return t&&11===t[7].length?t[7]:e}function t(e){var t=e.match(u);return t&&"string"==typeof t[3]?t[3]:e}function i(e){var t=e.match(c);return t&&11===t[1].length?t[1]:e}function r(e){var t=e.match(d);return t?t[1]:e}function n(n,o){return function(s,a){var l,u,c,d=s.pos;if(64!==s.src.charCodeAt(d)||91!==s.src.charCodeAt(d+1))return!1;var h=p.exec(s.src);if(!h||h.length<3)return!1;var m=h[1],v=h[2],f=m.toLowerCase();if("youtube"===f)v=e(v);else if("vimeo"===f)v=t(v);else if("vine"===f)v=i(v);else if("prezi"===f)v=r(v);else if(!o[f])return!1;if(")"===v&&(v=""),u=d+2,l=n.helpers.parseLinkLabel(s,d+1,!1),!a){s.pos=u,s.posMax=l,s.service=s.src.slice(u,l);var w=new s.md.inline.State(m,s.md,s.env,[]);w.md.inline.tokenize(w),(c=s.push("video","")).videoID=v,c.service=m,c.level=s.level}return s.pos=s.pos+s.src.indexOf(")",s.pos),s.posMax=s.tokens.length,!0}}function o(e,t){return function(i,r){var n=e.utils.escapeHtml(i[r].videoID),o=e.utils.escapeHtml(i[r].service).toLowerCase();return""===n?"":'<div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" id="'+o+'player" type="text/html" width="'+t[o].width+'" height="'+t[o].height+'" src="'+t.url(o,n,t)+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'}}function s(e,t){t?Object.keys(h).forEach(function(e){void 0===t[e]&&(t[e]=h[e])}):t=h,e.renderer.rules.video=o(e,t),e.inline.ruler.before("emphasis","video",n(e,t))}var a=this,l=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,u=/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,c=/^http(?:s?):\/\/(?:www\.)?vine\.co\/v\/([a-zA-Z0-9]{1,13}).*/,d=/^https:\/\/prezi.com\/(.[^/]+)/,p=/@\[([a-zA-Z].+)\]\([\s]*(.*?)[\s]*[\)]/im,h={url:function(e,t,i){switch(e){case"youtube":return"//www.youtube.com/embed/"+t;case"vimeo":return"//player.vimeo.com/video/"+t;case"vine":return"//vine.co/v/"+t+"/embed/"+i.vine.embed;case"prezi":return"https://prezi.com/embed/"+t+"/?bgcolor=ffffff&amp;lock_to_path=0&amp;autoplay=0&amp;autohide_ctrls=0&amp;landing_data=bHVZZmNaNDBIWnNjdEVENDRhZDFNZGNIUE43MHdLNWpsdFJLb2ZHanI5N1lQVHkxSHFxazZ0UUNCRHloSXZROHh3PT0&amp;landing_sign=1kD6c0N6aYpMUS0wxnQjxzSqZlEB8qNFdxtdjYhwSuI"}return""},youtube:{width:640,height:390},vimeo:{width:500,height:281},vine:{width:600,height:600,embed:"simple"},prezi:{width:550,height:400}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=s),exports.video_plugin=s):a.video_plugin=s}).call(this);