/*! markdown-it-video 26-10-2017 */

"use strict";(function(){function e(e,r){return e.plainiframe?"":' class="embed-responsive-item" id="'+r+'player" type="text/html" width="'+e[r].options.width+'" height="'+e[r].options.height+'"'}function r(e,r){var t=e.pos,i=e.posMax;if(64!==e.src.charCodeAt(t)||91!==e.src.charCodeAt(t+1))return!1;var o=/@\[([a-zA-Z].+?)\]\(\s*(.*?)\s*\)/im.exec(e.src.slice(t));if(!o||o.length<3)return!1;var s=o[1],a=o[2];if(!n[s.toLowerCase()])return!1;a=n[s.toLowerCase()].parser(a);var u=e.src.indexOf(")",t)+1;if(u>i)return!1;if(!r){var l=t+2,p=e.md.helpers.parseLinkLabel(e,t+1,!1);e.pos=l,e.posMax=p,e.service=e.src.slice(l,p);var c=e.push("video","");c.videoID=a,c.service=s,c.level=e.level}return e.pos=u,e.posMax=i,!0}function t(r,t){return function(i,o){var n=r.utils.escapeHtml(i[o].videoID),s=r.utils.escapeHtml(i[o].service).toLowerCase();if(""===n)return"";var a="<iframe"+e(t,s)+' src="'+t[s].url(n,t)+'"';return a+=' frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',!0===t.plainiframe?a:'<div class="embed-responsive embed-responsive-16by9">'+a+"</div>"}}function i(e,i){i?Object.keys(n).forEach(function(e){void 0===i[e]?i[e]=n[e]:Object.keys(n[e]).forEach(function(r){void 0===i[e][r]&&(i[e][r]=n[e][r])})}):i=n,e.renderer.rules.video=t(e,i),e.inline.ruler.after("link","video",r)}var o=this,n={youtube:{regex:/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,parser:function(e){var r=e.match(n.youtube.regex);return r&&11===r[7].length?r[7]:e},url:function(e,r){return"//www.youtube.com/embed/"+e},options:{width:640,height:390}},vimeo:{regex:/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,parser:function(e){var r=e.match(n.vimeo.regex);return r&&"string"==typeof r[3]?r[3]:e},url:function(e,r){return"//player.vimeo.com/video/"+e},options:{width:500,height:281}},vine:{regex:/^http(?:s?):\/\/(?:www\.)?vine\.co\/v\/([a-zA-Z0-9]{1,13}).*/,parser:function(e){var r=e.match(n.vine.regex);return r&&11===r[1].length?r[1]:e},url:function(e,r){return"//vine.co/v/"+e+"/embed/"+n.vine.options.embed},options:{width:600,height:600,embed:"simple"}},prezi:{regex:/^https:\/\/prezi.com\/(.[^/]+)/,parser:function(e){var r=e.match(n.prezi.regex);return r?r[1]:e},url:function(e,r){return"https://prezi.com/embed/"+e+"/?bgcolor=ffffff&amp;lock_to_path=0&amp;autoplay=0&amp;autohide_ctrls=0&amp;landing_data=bHVZZmNaNDBIWnNjdEVENDRhZDFNZGNIUE43MHdLNWpsdFJLb2ZHanI5N1lQVHkxSHFxazZ0UUNCRHloSXZROHh3PT0&amp;landing_sign=1kD6c0N6aYpMUS0wxnQjxzSqZlEB8qNFdxtdjYhwSuI"},options:{width:550,height:400}}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=i),exports.video_plugin=i):o.video_plugin=i}).call(this);