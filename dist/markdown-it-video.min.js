/*! markdown-it-video 18-10-2017 */

"use strict";(function(){function e(e){return function(r,t){var i,n,s,a=r.pos;if(64!==r.src.charCodeAt(a)||91!==r.src.charCodeAt(a+1))return!1;var u=/@\[([a-zA-Z].+)\]\([\s]*(.*?)[\s]*[\)]/im.exec(r.src);if(!u||u.length<3)return!1;var l=u[1],p=u[2],c=l.toLowerCase();if(!o[c])return!1;if(")"===(p=o[c].parser(p))&&(p=""),n=a+2,i=e.helpers.parseLinkLabel(r,a+1,!1),!t){r.pos=n,r.posMax=i,r.service=r.src.slice(n,i);var d=new r.md.inline.State(l,r.md,r.env,[]);d.md.inline.tokenize(d),(s=r.push("video","")).videoID=p,s.service=l,s.level=r.level}return r.pos=r.pos+r.src.indexOf(")",r.pos),r.posMax=r.tokens.length,!0}}function r(e,r){return e.plainiframe?"":' class="embed-responsive-item" id="'+r+'player" type="text/html" width="'+e[r].options.width+'" height="'+e[r].options.height+'"'}function t(e,t){return function(i,n){var o=e.utils.escapeHtml(i[n].videoID),s=e.utils.escapeHtml(i[n].service).toLowerCase();if(""===o)return"";var a="<iframe"+r(t,s)+' src="'+t[s].url(o,t)+'"';return a+=' frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',!0===t.plainiframe?a:'<div class="embed-responsive embed-responsive-16by9">'+a+"</div>"}}function i(r,i){console.log(i),i?Object.keys(o).forEach(function(e){void 0===i[e]?i[e]=o[e]:Object.keys(o[e]).forEach(function(r){void 0===i[e][r]&&(i[e][r]=o[e][r])})}):i=o,r.renderer.rules.video=t(r,i),r.inline.ruler.before("emphasis","video",e(r))}var n=this,o={youtube:{regex:/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,parser:function(e){var r=e.match(o.youtube.regex);return r&&11===r[7].length?r[7]:e},url:function(e,r){return"//www.youtube.com/embed/"+e},options:{width:640,height:390}},vimeo:{regex:/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,parser:function(e){var r=e.match(o.vimeo.regex);return r&&"string"==typeof r[3]?r[3]:e},url:function(e,r){return"//player.vimeo.com/video/"+e},options:{width:500,height:281}},vine:{regex:/^http(?:s?):\/\/(?:www\.)?vine\.co\/v\/([a-zA-Z0-9]{1,13}).*/,parser:function(e){var r=e.match(o.vine.regex);return r&&11===r[1].length?r[1]:e},url:function(e,r){return"//vine.co/v/"+e+"/embed/"+o.vine.options.embed},options:{width:600,height:600,embed:"simple"}},prezi:{regex:/^https:\/\/prezi.com\/(.[^/]+)/,parser:function(e){var r=e.match(o.prezi.regex);return r?r[1]:e},url:function(e,r){return"https://prezi.com/embed/"+e+"/?bgcolor=ffffff&amp;lock_to_path=0&amp;autoplay=0&amp;autohide_ctrls=0&amp;landing_data=bHVZZmNaNDBIWnNjdEVENDRhZDFNZGNIUE43MHdLNWpsdFJLb2ZHanI5N1lQVHkxSHFxazZ0UUNCRHloSXZROHh3PT0&amp;landing_sign=1kD6c0N6aYpMUS0wxnQjxzSqZlEB8qNFdxtdjYhwSuI"},options:{width:550,height:400}}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=i),exports.video_plugin=i):n.video_plugin=i}).call(this);